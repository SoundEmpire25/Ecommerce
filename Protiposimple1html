<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda de Exhibición - Moderna y Simple</title>
    <!-- Carga de Tailwind CSS para un diseño moderno y adaptable -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de Lucide Icons para iconos limpios y vectoriales -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <style>
        /* Estilos personalizados y configuración de Tailwind */
        :root {
            --color-primary: #10B981; /* Emerald 500 */
            --color-secondary: #059669; /* Emerald 600 */
            --color-text: #1F2937; /* Gray 800 */
            --color-bg: #F9FAFB; /* Gray 50 */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
        }

        /* Oculta todas las páginas excepto la activa */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Estilo para el botón de Admin */
        #adminButton {
            transition: transform 0.3s ease-in-out;
        }
        #adminButton:hover {
            transform: scale(1.05);
        }

        /* Animación de carga */
        #loadingOverlay {
            transition: opacity 0.5s ease-in-out;
        }

        /* Estilo para la barra de filtros (opcional) */
        #productFilters {
            max-width: 1280px;
            margin-left: auto;
            margin-right: auto;
            padding: 1rem 1rem;
        }

    </style>
</head>
<body class="min-h-screen antialiased">

    <!-- Superposición de Carga (Simulación) -->
    <div id="loadingOverlay" class="fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-[9999]">
        <div class="flex flex-col items-center">
            <svg class="animate-spin h-8 w-8 text-green-600 mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span class="text-lg text-gray-700">Cargando experiencia...</span>
        </div>
    </div>


    <!-- Menú de Navegación (Sticky Header) -->
    <header class="sticky top-0 z-50 shadow-md bg-white/95 backdrop-blur-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo o Nombre de la Tienda -->
                <a href="#home" class="text-2xl font-black text-emerald-600 hover:text-emerald-700 transition duration-150">
                    ECOMMERCE SIMPLE
                </a>

                <!-- Botones de Navegación (Desktop) -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#home" class="nav-link text-gray-600 hover:text-emerald-600 transition duration-150 font-medium">Inicio</a>
                    <a href="#products" class="nav-link text-gray-600 hover:text-emerald-600 transition duration-150 font-medium">Productos</a>
                    <a href="#about" class="nav-link text-gray-600 hover:text-emerald-600 transition duration-150 font-medium">Acerca de Nosotros</a>
                    <a href="#contact" class="nav-link text-gray-600 hover:text-emerald-600 transition duration-150 font-medium">Contacto</a>
                </nav>

                <!-- Menú Hamburguesa (Mobile) -->
                <button id="menuButton" class="md:hidden p-2 text-gray-600 rounded-lg hover:bg-gray-100 transition duration-150">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>

        <!-- Menú Móvil Desplegable -->
        <div id="mobileMenu" class="hidden md:hidden absolute w-full bg-white shadow-xl border-t border-gray-100">
            <nav class="px-2 pt-2 pb-3 space-y-1 sm:px-3 flex flex-col">
                <a href="#home" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-emerald-50 hover:text-emerald-600">Inicio</a>
                <a href="#products" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-emerald-50 hover:text-emerald-600">Productos</a>
                <a href="#about" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-emerald-50 hover:text-emerald-600">Acerca de Nosotros</a>
                <a href="#contact" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-emerald-50 hover:text-emerald-600">Contacto</a>
            </nav>
        </div>
    </header>

    <!-- Contenedor Principal de Páginas -->
    <main class="py-8 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">

        <!-- 1. Página Principal (Home) -->
        <section id="home" class="page active">
            <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-12">
                <!-- Banner Llamativo -->
                <div class="relative h-64 sm:h-96 bg-emerald-100 flex items-center justify-center p-6" style="background-image: url('https://placehold.co/1200x400/D1FAE5/065F46?text=El+Lugar+para+encontrar+lo+%C3%BAnico'); background-size: cover; background-position: center;">
                    <div class="text-center bg-black/50 p-6 rounded-xl">
                        <h1 class="text-4xl sm:text-6xl font-extrabold text-white leading-tight mb-4 shadow-text">
                            Descubre la Colección
                        </h1>
                        <p class="text-xl text-gray-200">
                            Donde la calidad y el diseño se encuentran.
                        </p>
                        <a href="#products" class="mt-6 inline-block bg-emerald-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-emerald-600 transition duration-300 transform hover:scale-105">
                            Ver Productos Ahora
                        </a>
                    </div>
                </div>

                <!-- Quiénes Somos (en la Home) -->
                <div class="p-8 lg:p-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b pb-2 border-emerald-100">
                        Nuestra Misión
                    </h2>
                    <p class="text-gray-600 leading-relaxed">
                        Somos una plataforma dedicada a la curación de artículos únicos y de alta calidad. Nuestro objetivo no es solo vender, sino conectar a nuestros clientes con productos que cuenten una historia y que aporten valor a su vida diaria. Creemos en la transparencia, la artesanía y el servicio al cliente personalizado.
                    </p>
                    <div class="mt-6 flex flex-wrap gap-4">
                        <div class="flex items-center text-emerald-600">
                            <i data-lucide="shield-check" class="w-5 h-5 mr-2"></i>
                            Calidad Garantizada
                        </div>
                        <div class="flex items-center text-emerald-600">
                            <i data-lucide="package" class="w-5 h-5 mr-2"></i>
                            Diseños Exclusivos
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Catálogo de Productos -->
        <section id="products" class="page">
            <h1 class="text-4xl font-bold text-gray-800 mb-6">
                Catálogo de Productos
            </h1>
            <p class="text-gray-600 mb-8">
                Explora nuestra selección. Si algo te gusta, simplemente haz clic en el botón de contacto en el detalle.
            </p>

            <!-- Barra de Filtros (Opcional Plus) -->
            <div id="productFilters" class="mb-6 flex flex-col sm:flex-row gap-4">
                <select id="categoryFilter" class="w-full sm:w-auto p-3 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 transition duration-150">
                    <option value="all">Todas las Categorías</option>
                    <option value="hogar">Hogar</option>
                    <option value="tecnologia">Tecnología</option>
                    <option value="moda">Moda</option>
                </select>
                <input type="text" id="searchFilter" placeholder="Buscar por nombre..." class="w-full sm:w-auto p-3 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 transition duration-150">
            </div>

            <!-- Cuadrícula de Productos -->
            <div id="productGrid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Las tarjetas de producto se inyectarán aquí por JavaScript -->
            </div>
        </section>

        <!-- 3. Página de Detalle del Producto (Modal simulado) -->
        <section id="product-detail" class="page fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 hidden">
            <div id="detailContent" class="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto p-6 relative transform transition-all duration-300 ease-out scale-95 opacity-0">
                <!-- El contenido del detalle del producto se inyectará aquí -->
                <button id="closeDetail" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition duration-150">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
        </section>

        <!-- 4. Página de Contacto -->
        <section id="contact" class="page">
            <div class="bg-white rounded-xl shadow-lg p-8 lg:p-12 text-center">
                <h1 class="text-4xl font-bold text-gray-800 mb-4">
                    Estamos Listos para Ayudarte
                </h1>
                <p class="text-xl text-gray-600 mb-8">
                    Si quieres comprar algún producto, contáctanos por:
                </p>

                <div class="flex justify-center space-x-8">
                    <!-- Icono de WhatsApp Clickeable -->
                    <a href="https://wa.me/XXXXXXXXXX" target="_blank" class="flex flex-col items-center group">
                        <div class="p-4 bg-green-500 rounded-full text-white shadow-xl group-hover:bg-green-600 group-hover:scale-110 transition duration-300 ease-in-out">
                            <i data-lucide="message-square-text" class="w-8 h-8"></i>
                        </div>
                        <span class="mt-3 text-lg font-medium text-gray-700 group-hover:text-green-600">WhatsApp</span>
                    </a>

                    <!-- Icono de Instagram Clickeable -->
                    <a href="https://instagram.com/tuusuario" target="_blank" class="flex flex-col items-center group">
                        <div class="p-4 bg-pink-500 rounded-full text-white shadow-xl group-hover:bg-pink-600 group-hover:scale-110 transition duration-300 ease-in-out">
                            <i data-lucide="instagram" class="w-8 h-8"></i>
                        </div>
                        <span class="mt-3 text-lg font-medium text-gray-700 group-hover:text-pink-600">Instagram</span>
                    </a>
                </div>

                <p class="mt-8 text-sm text-gray-500">
                    Reemplaza 'XXXXXXXXXX' y 'tuusuario' con tus datos reales.
                </p>
            </div>
        </section>

        <!-- 5. Página Acerca de Nosotros (Plus Opcional) -->
        <section id="about" class="page">
            <div class="bg-white rounded-xl shadow-lg p-8 lg:p-12">
                <h1 class="text-4xl font-bold text-gray-800 mb-4">
                    Acerca de Nosotros
                </h1>
                <h2 class="text-2xl font-semibold text-emerald-600 mb-6">
                    Nuestra Historia y Valores
                </h2>
                <p class="text-gray-600 mb-6 leading-relaxed">
                    Todo comenzó con la idea de simplificar la búsqueda de productos de alta calidad en un solo lugar. Más que una tienda, somos un equipo apasionado que cree en la curación de productos con un enfoque ético y sostenible. Trabajamos directamente con artesanos y pequeños productores para asegurar que cada artículo que ofrecemos cumpla con los más altos estándares de diseño y durabilidad.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                    <div class="p-4 border-l-4 border-emerald-500 bg-emerald-50 rounded-lg">
                        <h3 class="font-bold text-xl text-gray-800 mb-2">Visión</h3>
                        <p class="text-sm text-gray-600">Ser el referente en e-commerce de exhibición, priorizando la experiencia del cliente y la calidad del producto.</p>
                    </div>
                    <div class="p-4 border-l-4 border-emerald-500 bg-emerald-50 rounded-lg">
                        <h3 class="font-bold text-xl text-gray-800 mb-2">Misión</h3>
                        <p class="text-sm text-gray-600">Conectar personas con productos únicos y funcionales que mejoren su estilo de vida.</p>
                    </div>
                    <div class="p-4 border-l-4 border-emerald-500 bg-emerald-50 rounded-lg">
                        <h3 class="font-bold text-xl text-gray-800 mb-2">Valores</h3>
                        <p class="text-sm text-gray-600">Transparencia, Calidad, Innovación y Responsabilidad Social.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. Panel de Administración de Productos (Plus Opcional) -->
        <section id="admin" class="page">
            <div class="bg-white rounded-xl shadow-lg p-8 lg:p-12">
                <h1 class="text-4xl font-bold text-gray-800 mb-6">
                    Panel de Administración
                </h1>

                <!-- Formulario de Login -->
                <div id="adminLogin" class="max-w-md mx-auto p-6 bg-gray-50 rounded-lg shadow-inner">
                    <h2 class="text-2xl font-semibold mb-4 text-center">Acceso de Administrador</h2>
                    <input type="password" id="adminPassword" placeholder="Contraseña (admin123)" class="w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-emerald-500 focus:border-emerald-500">
                    <button id="loginButton" class="w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition duration-300">
                        Ingresar
                    </button>
                    <p id="loginMessage" class="mt-4 text-center text-red-500 hidden">Contraseña incorrecta.</p>
                </div>

                <!-- Interfaz de Productos (Visible tras login) -->
                <div id="adminInterface" class="hidden">
                    <h2 class="text-2xl font-semibold text-emerald-600 mb-6">
                        Gestión de Productos
                    </h2>

                    <!-- Formulario para Agregar/Editar Producto -->
                    <div class="mb-8 p-6 border border-dashed border-emerald-300 rounded-lg bg-emerald-50">
                        <h3 class="text-xl font-bold mb-4" id="formTitle">Agregar Nuevo Producto</h3>
                        <input type="hidden" id="productId">
                        <input type="text" id="productName" placeholder="Nombre del Producto" class="w-full p-3 border border-gray-300 rounded-lg mb-3" required>
                        <input type="text" id="productCategory" placeholder="Categoría (ej: hogar, moda)" class="w-full p-3 border border-gray-300 rounded-lg mb-3" required>
                        <input type="number" id="productPrice" placeholder="Precio (solo número)" class="w-full p-3 border border-gray-300 rounded-lg mb-3" required>
                        <input type="text" id="productDescription" placeholder="Descripción completa" class="w-full p-3 border border-gray-300 rounded-lg mb-3" required>
                        <input type="text" id="productImage" placeholder="URL de la Imagen (ej: placehold.co/400x400)" class="w-full p-3 border border-gray-300 rounded-lg mb-4" required>
                        <div class="flex gap-4">
                            <button id="saveProductButton" class="flex-1 bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition duration-300">
                                Guardar Producto
                            </button>
                            <button id="resetFormButton" class="bg-gray-400 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-500 transition duration-300">
                                Cancelar
                            </button>
                        </div>
                    </div>

                    <!-- Listado de Productos -->
                    <div id="productListAdmin" class="space-y-4">
                        <!-- Los productos para administración se inyectarán aquí -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Botón Flotante para ir al Admin -->
    <button id="adminButton" class="fixed bottom-6 right-6 p-4 bg-emerald-600 text-white rounded-full shadow-lg hover:bg-emerald-700 z-40" onclick="window.location.hash = '#admin'">
        <i data-lucide="wrench" class="w-6 h-6"></i>
    </button>


    <script>
        // Inicialización de Lucide Icons
        lucide.createIcons();

        // ----------------------------------------------------
        // 1. DATA (Simulación de Base de Datos/API)
        // ----------------------------------------------------
        let products = [
            { id: 1, name: "Tazón de Cerámica Nórdica", category: "hogar", price: 15.99, description: "Elegante tazón de cerámica con acabado mate, perfecto para tu café o sopa matutina. Disponible en tres colores tierra.", variants: "Colores: Gris, Blanco, Negro", imageUrl: "https://placehold.co/400x400/10B981/FFFFFF?text=Tazon+Nordico" },
            { id: 2, name: "Auriculares Inalámbricos Pro", category: "tecnologia", price: 129.50, description: "Audio de alta fidelidad con cancelación de ruido activa. 30 horas de batería y carga rápida. Incluye estuche de carga.", variants: "Color: Negro y Blanco", imageUrl: "https://placehold.co/400x400/065F46/FFFFFF?text=Auriculares+Pro" },
            { id: 3, name: "Bufanda de Lana Tejida", category: "moda", price: 45.00, description: "Bufanda suave y extra larga, tejida a mano con lana de alpaca 100%. Ideal para el invierno. Edición limitada.", variants: "Diseños: Rayas, Liso, Cuadros", imageUrl: "https://placehold.co/400x400/99F6E4/065F46?text=Bufanda+Lana" },
            { id: 4, name: "Lámpara de Escritorio LED", category: "hogar", price: 75.25, description: "Lámpara minimalista con tres modos de luz y brazo flexible. Perfecta para el trabajo o el estudio nocturno.", variants: "Potencia: 10W, 15W", imageUrl: "https://placehold.co/400x400/D1FAE5/065F46?text=Lampara+LED" },
        ];
        let nextProductId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;


        // ----------------------------------------------------
        // 2. LÓGICA DE NAVEGACIÓN (SPA Simple)
        // ----------------------------------------------------
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        const detailSection = document.getElementById('product-detail');
        const detailContent = document.getElementById('detailContent');
        const adminInterface = document.getElementById('adminInterface');
        const adminLogin = document.getElementById('adminLogin');
        const ADMIN_PASSWORD = "admin123";
        let isAdminLoggedIn = false;

        // Función para cambiar la página visible
        function navigateTo(pageId) {
            pages.forEach(page => page.classList.remove('active'));
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                // Manejo especial para la página de administración
                if (pageId === 'admin') {
                    if (isAdminLoggedIn) {
                        adminLogin.classList.add('hidden');
                        adminInterface.classList.remove('hidden');
                        renderAdminProductList();
                    } else {
                        adminLogin.classList.remove('hidden');
                        adminInterface.classList.add('hidden');
                    }
                }
                // Resaltar el enlace activo
                navLinks.forEach(link => {
                    link.classList.remove('text-emerald-600', 'font-bold', 'bg-emerald-50');
                    if (link.getAttribute('href') === `#${pageId}`) {
                        link.classList.add('text-emerald-600', 'font-bold', 'bg-emerald-50');
                    }
                });
            } else {
                navigateTo('home'); // Vuelve al inicio si el hash es inválido
            }
            // Cerrar menú móvil después de la navegación
            const mobileMenu = document.getElementById('mobileMenu');
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
            }
        }

        // Manejo del hash URL para la navegación
        function handleHashChange() {
            const hash = window.location.hash.substring(1) || 'home';
            // Comprobar si el hash es el detalle de un producto
            if (hash.startsWith('product-')) {
                const productId = parseInt(hash.split('-')[1]);
                const product = products.find(p => p.id === productId);
                if (product) {
                    renderProductDetail(product);
                } else {
                    navigateTo('products');
                }
            } else {
                detailSection.classList.add('hidden');
                detailContent.classList.remove('scale-100', 'opacity-100');
                navigateTo(hash);
            }
        }

        // Event Listeners de Navegación
        window.addEventListener('hashchange', handleHashChange);
        window.onload = () => {
            // Simular un tiempo de carga y luego mostrar el contenido
            setTimeout(() => {
                document.getElementById('loadingOverlay').style.opacity = '0';
                setTimeout(() => document.getElementById('loadingOverlay').classList.add('hidden'), 500);
                // Inicializar la navegación al cargar la página
                handleHashChange();
                renderProductGrid();
            }, 800);
        };

        // Menú Móvil
        document.getElementById('menuButton').addEventListener('click', () => {
            document.getElementById('mobileMenu').classList.toggle('hidden');
        });


        // ----------------------------------------------------
        // 3. RENDERIZADO DEL CATÁLOGO
        // ----------------------------------------------------

        // Genera el HTML para una tarjeta de producto
        function createProductCard(product) {
            return `
                <div class="product-card bg-white rounded-xl shadow-lg hover:shadow-xl transition duration-300 transform hover:-translate-y-1 overflow-hidden" data-category="${product.category}">
                    <div class="relative pt-[100%] overflow-hidden">
                        <img src="${product.imageUrl}" alt="${product.name}" class="absolute top-0 left-0 w-full h-full object-cover" onerror="this.onerror=null; this.src='https://placehold.co/400x400/94A3B8/FFFFFF?text=No+Imagen';" loading="lazy">
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-gray-800 truncate mb-1">${product.name}</h3>
                        <p class="text-emerald-600 font-bold text-xl mb-3">$${product.price.toFixed(2)}</p>
                        <a href="#product-${product.id}" class="inline-block w-full bg-emerald-500 text-white text-center font-medium py-2 rounded-lg hover:bg-emerald-600 transition duration-300 text-sm">
                            Ver Detalles
                        </a>
                    </div>
                </div>
            `;
        }

        // Renderiza el catálogo completo
        function renderProductGrid() {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = products.map(createProductCard).join('');
        }


        // ----------------------------------------------------
        // 4. RENDERIZADO DEL DETALLE DEL PRODUCTO
        // ----------------------------------------------------

        // Genera el HTML para la vista de detalle
        function createProductDetailHtml(product) {
            return `
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Columna de Imagen -->
                    <div>
                        <img src="${product.imageUrl}" alt="${product.name}" class="w-full h-auto object-cover rounded-lg shadow-lg border border-gray-200" onerror="this.onerror=null; this.src='https://placehold.co/600x600/94A3B8/FFFFFF?text=No+Imagen+Grande';">
                    </div>

                    <!-- Columna de Información -->
                    <div>
                        <span class="inline-block px-3 py-1 text-xs font-semibold uppercase rounded-full bg-emerald-100 text-emerald-600 mb-2">${product.category}</span>
                        <h2 class="text-4xl font-bold text-gray-800 mb-4">${product.name}</h2>
                        <p class="text-5xl font-extrabold text-emerald-600 mb-6">$${product.price.toFixed(2)}</p>

                        <!-- Descripción -->
                        <h3 class="text-xl font-semibold text-gray-700 mb-2">Descripción Completa</h3>
                        <p class="text-gray-600 mb-6 leading-relaxed">${product.description}</p>

                        <!-- Variantes -->
                        ${product.variants ? `<h3 class="text-xl font-semibold text-gray-700 mb-2">Variantes</h3>
                        <p class="text-gray-600 mb-6">${product.variants}</p>` : ''}

                        <!-- Botones de Contacto (CTA) -->
                        <h3 class="text-xl font-semibold text-gray-700 mb-3">¿Te interesa? Contáctanos:</h3>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <!-- WhatsApp -->
                            <a href="https://wa.me/XXXXXXXXXX?text=Me%20interesa%20el%20producto:%20${encodeURIComponent(product.name)}" target="_blank" class="flex items-center justify-center flex-1 bg-green-500 text-white font-bold py-3 rounded-lg shadow-md hover:bg-green-600 transition duration-300">
                                <i data-lucide="message-square-text" class="w-5 h-5 mr-2"></i>
                                Contactar por WhatsApp
                            </a>
                            <!-- Instagram -->
                            <a href="https://instagram.com/tuusuario" target="_blank" class="flex items-center justify-center flex-1 bg-pink-500 text-white font-bold py-3 rounded-lg shadow-md hover:bg-pink-600 transition duration-300">
                                <i data-lucide="instagram" class="w-5 h-5 mr-2"></i>
                                Escribir por Instagram
                            </a>
                        </div>
                    </div>
                </div>
            `;
        }

        /
        function renderProductDetail(product) {
            detailContent.innerHTML = createProductDetailHtml(product);
            // Recrear iconos dentro del contenido inyectado
            lucide.createIcons();

            // Agregar botón de cierre (ya existe en el HTML, solo re-adjuntar si es necesario)
            const closeButtonHtml = `<button id="closeDetail" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition duration-150">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>`;
            if (!detailContent.querySelector('#closeDetail')) {
                // Si el botón original fue borrado por el innerHTML (lo cual no debería pasar con el uso de JS), lo reinsertamos.
                // En este caso, lo inyectamos junto con el contenido para asegurar que siempre esté.
                // Ajustamos el HTML generado para incluirlo de forma segura si el botón externo se borra.
            }

            detailSection.classList.remove('hidden');
            setTimeout(() => {
                detailContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        // Event Listener para cerrar el detalle
        document.getElementById('closeDetail').addEventListener('click', () => {
            window.location.hash = '#products';
        });


        // ----------------------------------------------------
        // 5. LÓGICA DEL PANEL DE ADMINISTRACIÓN
        // ----------------------------------------------------

        // Manejo de Login
        document.getElementById('loginButton').addEventListener('click', () => {
            const passwordInput = document.getElementById('adminPassword');
            const message = document.getElementById('loginMessage');

            if (passwordInput.value === ADMIN_PASSWORD) {
                isAdminLoggedIn = true;
                adminLogin.classList.add('hidden');
                adminInterface.classList.remove('hidden');
                message.classList.add('hidden');
                renderAdminProductList();
            } else {
                message.textContent = "Contraseña incorrecta. Intenta con 'admin123'.";
                message.classList.remove('hidden');
            }
        });

        // Genera una fila para la lista de administración
        function createAdminProductRow(product) {
            return `
                <div class="flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border border-gray-100">
                    <div class="flex-1 min-w-0">
                        <p class="text-lg font-semibold truncate">${product.name}</p>
                        <p class="text-sm text-gray-500">$${product.price.toFixed(2)} - ${product.category}</p>
                    </div>
                    <div class="flex space-x-2 ml-4">
                        <button onclick="editProduct(${product.id})" class="p-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition">
                            <i data-lucide="edit" class="w-5 h-5"></i>
                        </button>
                        <button onclick="deleteProduct(${product.id})" class="p-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition">
                            <i data-lucide="trash-2" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        // Renderiza la lista de productos para administración
        function renderAdminProductList() {
            const list = document.getElementById('productListAdmin');
            list.innerHTML = products.map(createAdminProductRow).join('');
            lucide.createIcons(); // Recrear iconos
        }

        // Lógica de Guardar/Actualizar Producto
        document.getElementById('saveProductButton').addEventListener('click', () => {
            const id = document.getElementById('productId').value;
            const name = document.getElementById('productName').value;
            const category = document.getElementById('productCategory').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const description = document.getElementById('productDescription').value;
            const imageUrl = document.getElementById('productImage').value;

            if (!name || !category || isNaN(price) || !description || !imageUrl) {
                console.error("Faltan campos obligatorios.");
                return;
            }

            const newProduct = {
                name,
                category,
                price,
                description,
                imageUrl,
                variants: "N/A" // Simplificado para el admin
            };

            if (id) {
                // Editar
                const index = products.findIndex(p => p.id === parseInt(id));
                if (index !== -1) {
                    products[index] = { ...products[index], id: parseInt(id), ...newProduct };
                }
            } else {
                // Agregar
                newProduct.id = nextProductId++;
                products.push(newProduct);
            }

            resetForm();
            renderAdminProductList();
            renderProductGrid(); // Actualizar el catálogo de productos visible
        });

        // Cargar datos de producto en el formulario para edición
        window.editProduct = function(id) {
            const product = products.find(p => p.id === id);
            if (product) {
                document.getElementById('productId').value = product.id;
                document.getElementById('productName').value = product.name;
                document.getElementById('productCategory').value = product.category;
                document.getElementById('productPrice').value = product.price;
                document.getElementById('productDescription').value = product.description;
                document.getElementById('productImage').value = product.imageUrl;
                document.getElementById('formTitle').textContent = `Editar Producto: ${product.name}`;
                document.getElementById('saveProductButton').textContent = 'Actualizar Producto';
            }
        };

        // Eliminar Producto
        window.deleteProduct = function(id) {
            products = products.filter(p => p.id !== id);
            renderAdminProductList();
            renderProductGrid(); // Actualizar el catálogo de productos visible
        };

        // Resetear Formulario
        function resetForm() {
            document.getElementById('productId').value = '';
            document.getElementById('productName').value = '';
            document.getElementById('productCategory').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productDescription').value = '';
            document.getElementById('productImage').value = '';
            document.getElementById('formTitle').textContent = 'Agregar Nuevo Producto';
            document.getElementById('saveProductButton').textContent = 'Guardar Producto';
        }
        document.getElementById('resetFormButton').addEventListener('click', resetForm);


        // ----------------------------------------------------
        // 6. LÓGICA DE FILTROS (Plus Opcional)
        // ----------------------------------------------------

        document.getElementById('categoryFilter').addEventListener('change', applyFilters);
        document.getElementById('searchFilter').addEventListener('input', applyFilters);

        function applyFilters() {
            const selectedCategory = document.getElementById('categoryFilter').value;
            const searchTerm = document.getElementById('searchFilter').value.toLowerCase();
            const cards = document.querySelectorAll('#productGrid .product-card');

            cards.forEach(card => {
                const category = card.getAttribute('data-category');
                const name = card.querySelector('h3').textContent.toLowerCase();
                let isVisible = true;

                // Filtrar por Categoría
                if (selectedCategory !== 'all' && category !== selectedCategory) {
                    isVisible = false;
                }

                // Filtrar por Búsqueda
                if (searchTerm && !name.includes(searchTerm)) {
                    isVisible = false;
                }

                card.style.display = isVisible ? 'block' : 'none';
            });
        }

    </script>
</body>
</html>